C51 COMPILER V9.60.0.0   MAIN                                                              04/02/2022 15:20:34 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\software\Keil_V5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\List
                    -ings\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "my_lib.h"
   3          
   4          // com positive
   5          U8 nexieNumCode[10] = {0x3F, 0x06, 0x5B, 0x4F, 0x66, 0x6D, 0x7D, 0x07, 0x7F, 0x6F};
   6          
   7          /**
   8           * notice that position value start from 1, and read it from right to left on nexieTube.
   9           */
  10          void markNum(U8 position, U8 value) {
  11   1          U8 actPos = (position > 0 && position < 9) ? (position - 1) : 0;
  12   1          P2 = 0x00;
  13   1          P2_2 = actPos & 0x01;
  14   1          P2_3 = actPos & 0x02;
  15   1          P2_4 = actPos & 0x04;
  16   1      
  17   1          if (value < 10) {
  18   2              P0 = nexieNumCode[value];
  19   2          }
  20   1          
  21   1          delayXms(1);
  22   1          P0 = 0;
  23   1      }
  24          
  25          void main() {
  26   1          U16 value = 0;
  27   1          int i = 0;
  28   1          U16 j, k, m, n;
  29   1          while(1) {
  30   2              if (checkBtnPressedAt(1)) {
  31   3                  ++value;
  32   3              }
  33   2              if (checkBtnPressedAt(2)) {
  34   3                  --value;
  35   3              }
  36   2              if (checkBtnPressedAt(3)) {
  37   3                  value <<= 1;
  38   3              }
  39   2              if (checkBtnPressedAt(4)) {
  40   3                  value >>= 1;
  41   3              }
  42   2              
  43   2              m = 10;
  44   2              n = 1;
  45   2              for (i = 0; i < 4; ++i) {
  46   3                  markNum(i + 1, value % m / n);
  47   3                  m *= 10;
  48   3                  n *= 10;
  49   3              }
  50   2          }
  51   1      }
*** WARNING C280 IN LINE 28 OF main.c: 'j': unreferenced local variable
*** WARNING C280 IN LINE 28 OF main.c: 'k': unreferenced local variable

C51 COMPILER V9.60.0.0   MAIN                                                              04/02/2022 15:20:34 PAGE 2   


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    391    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     20      24
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
